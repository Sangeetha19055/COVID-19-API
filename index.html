<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Table sample</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>
    <style>
      .table-box {
        height: 100vh;
        width: 100%;
      }
      thead {
        position: sticky;
        top: -5px;
      }
    </style>
  </head>
  <body onload="getData()">
    <section class="corono_update container-fluid">
      <div class="mb-3">
        <div class="text-center text-uppercase">Covid-19 updates</div>
      </div>
    </section>

    <div class="container">
      <div class="table-responsive table-box">
        <table
          class="table table-bordered table-hover table-fixed"
          id="tablevalues"
        >
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Country</th>
              <th scope="col">Total Cases</th>
              <th scope="col">New Cases</th>
              <th scope="col">Total Deaths</th>
              <th scope="col">New Deaths</th>
              <th scope="col">Total Recovered</th>
              <th scope="col">New Recovered</th>
            </tr>
          </thead>
        </table>
      </div>
    </div>
    <!-- // https://covid-19.dataflowkit.com/v1 -->
    <script>
      async function getData() {
        const dataList = await fetch("https://covid-19.dataflowkit.com/v1", {
          method: "GET",
        });
        let data = await dataList.json();
        console.log(data);
        displayData1(data);
        // console.log(data.map((el) => el["Total Cases_text"]));
      }
      //   getData();

      function displayData1(datas) {
        for (var i = 1; i < datas.length - 1; i++) {
          var tablerow = document.createElement("tr");
          tablerow.innerHTML = `
            <td>${i}</td>
            <td>${datas[i].Country_text}</td>
            <td>${datas[i]["Total Cases_text"]}</td>
            <td>${datas[i]["New Cases_text"]}</td>
            <td>${datas[i]["Total Deaths_text"]}</td>
            <td>${datas[i]["New Deaths_text"]}</td>
            <td>${datas[i]["Total Recovered_text"]}</td>
            <td>${datas[i]["Active Cases_text"]}</td>
            `;
          document.querySelector("#tablevalues").append(tablerow);
        }
      }

      //   function displayData(datas) {
      //     // console.log(datas.length);
      //     for (var i = 1; i < datas.length - 1; i++) {
      //       var tablevalues = document.getElementById("tablevalues");
      //       var x = tablevalues.insertRow();
      //       x.insertCell(0);
      //       tablevalues.rows[i].cells[0].innerHTML = i;
      //       tablevalues.rows[i].cells[0].style.background = "#f36e23";

      //       x.insertCell(1);
      //       tablevalues.rows[i].cells[1].innerHTML = datas[i].Country_text;

      //       x.insertCell(2);
      //       tablevalues.rows[i].cells[2].innerHTML = datas[i]["Total Cases_text"];

      //       x.insertCell(3);
      //       tablevalues.rows[i].cells[3].innerHTML = datas[i]["New Cases_text"];

      //       x.insertCell(4);
      //       tablevalues.rows[i].cells[4].innerHTML =
      //         datas[i]["Total Deaths_text"];

      //       x.insertCell(5);
      //       tablevalues.rows[i].cells[5].innerHTML = datas[i]["New Deaths_text"];

      //       x.insertCell(6);
      //       tablevalues.rows[i].cells[6].innerHTML =
      //         datas[i]["Total Recovered_text"];

      //       x.insertCell(7);
      //       tablevalues.rows[i].cells[7].innerHTML =
      //         datas[i]["Active Cases_text"];
      //     }
      //   }
    </script>
  </body>
</html>
